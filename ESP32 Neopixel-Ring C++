#include <Adafruit_NeoPixel.h>

#define LED_PIN   17    // Pin del D1 mini conectado a los NeoPixels
#define LED_COUNT 16    // Número de LEDs NeoPixel

Adafruit_NeoPixel strip(LED_COUNT, LED_PIN, NEO_GRB + NEO_KHZ800);

void setup() {
  Serial.begin(115200);
  Serial.println("Hola, ESP32!");
  strip.begin();           
  strip.show();            
  strip.setBrightness(250); 
 
  // Encender la tira con colores básicos
  colorWipe(strip.Color(255, 0, 0), 20);  // Vermell
  colorWipe(strip.Color(0, 255, 0), 15);  // Verd
  colorWipe(strip.Color(0, 0, 255), 10);  // Blau
}

void loop() {
  // Animació de cicle de color
  for (int i = 0; i < 256; i++) {
    rainbowCycle(i);
    delay(10);
  }
}

void colorWipe(uint32_t color, int wait) {
  for (int i = 0; i < strip.numPixels(); i++) {
    strip.setPixelColor(i, color);
    strip.show();
    delay(wait);
  }
}

void rainbowCycle(uint8_t offset) {
  for (int i = 0; i < strip.numPixels(); i++) {
    uint8_t pixelHue = (i * 256 / strip.numPixels() + offset) & 255;
    strip.setPixelColor(i, strip.ColorHSV(pixelHue * 256));
  }
  strip.show();
}
